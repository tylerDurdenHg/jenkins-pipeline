pipeline {
    agent any
    tools {
        maven 'Maven'
    }
    environment {
        MY_HI= "HELLO"
    }
    
    stages {
        stage('Preparation') {
        	steps {
	       		sh 'echo Hi its me'
           		sh 'echo second $MY_HI'
           		script {
		               if (env.BRANCH_NAME == 'development')
        			echo 'this is development branch first part'
        		else 
        			echo 'this is master branch first part'
		           }
	        }
        }
        stage('Compile') {
        when {
            branch 'development'
        }
        steps {
          sh 'this is development branch second part'
	       sh 'mvn -f mypipe/pom.xml compile'          
        	}
        }
        stage('Master Compile') {
           when {
               branch 'master'
           }
           steps {
               sh 'this is master branch second part'
	            sh 'mvn -f mypipe/pom.xml compile'
           }
        }
        
       stage('Test') {
        	steps {
	            sh 'mvn -f mypipe/pom.xml test'
	        }
        }
        
        
        
            /*
    	 stage('Example') {
            input {
                message "Should we continue?"
                ok "Yes, we should."
                submitter "alice,bob"
                parameters {
                    string(name: 'PERSON', defaultValue: 'Mr Jenkins', description: 'Who should I say hello to?')
                }
            }
            steps {
                echo "Hello, ${PERSON}, nice to meet you."
            }
        }
        */
    }
}